# 함수 실행의 메모리구조1

---

## 강의 reference

[앨런 Swift문법 마스터 스쿨 (온라인 BootCamp - 2개월과정)](https://www.inflearn.com/course/스위프트-문법-마스터-스쿨/dashboard)

---

<br>

### 특징

- main 함수 하위 동작하는 함수들 사이에서 CPU가 주소값 찾아가는 걸 제어권 이전/반환 이라고 함

### 1) 코데힙스

- 참조 : https://korshika.tistory.com/132
- 전부 주메모리 영역임

---

전체 영역은 '프로세스' 라는 단위 밑에 있음

1. 코드 : 코드가 cpu 명령어로 컴파일 되어서 주메모리에 올라간 부분
2. 데이터 : 정적변수
3. 힙 : OS 관리하여, 동적으로 메모리 할당하는 부분
4. 스택 : 지역변수, 함수 등이 사용하는 공간, 스레드 내부 당 1개씩 배치

### 2) 함수와 스택 프레임

> - 함수는 스택에 공간을 요청하고, 컴파일 된 명령어에 따라 계산 후, 이 값을 반환하고 스택에서 반환되면서 사라진다
> - 함수 밖의 영역에서는, 이 반환된 값만을 사용하고, 함수 실행이 끝나면 주메모리상에서는 스택의 지역 변수들이 사라진 상태이기 때문에, { } 등의 블럭 밖의 scope에서 블럭 안의 변수를 참조하지 못하는 것!

### 3) 플레이그라운드와 main 함수

- 플레이그라운드 전체 코드 영역이 main 함수 안에 위치해 있다고 보면 됨
- 이건 c의 main 함수 / java 의 main 과 비슷 한 듯?
- 컴파일 이후 OS가 코드 실행할 때, main 으로 선언된 부분 찾아가서 첫 실행 하는 것과 유사한것 같다.
